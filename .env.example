# ===========================================
# LivestockAI - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ===========================================
# DATABASE (Required)
# ===========================================
# PostgreSQL connection string
# For Neon (recommended): https://neon.tech - Free tier available
# Format: postgresql://user:password@host/database?sslmode=require
DATABASE_URL=postgresql://user:password@localhost:5432/livestockai

# ===========================================
# CLOUDFLARE HYPERDRIVE (Production)
# ===========================================
# Hyperdrive provides connection pooling and enables full transaction support
# in Cloudflare Workers. The binding is configured in wrangler.jsonc.
#
# Setup steps:
# 1. Go to Cloudflare Dashboard → Hyperdrive → Create configuration
# 2. Enter your Neon PostgreSQL connection string
# 3. Copy the configuration ID to wrangler.jsonc
# 4. For local dev with wrangler, DATABASE_URL is used via localConnectionString
#
# In production, Hyperdrive provides:
# - Connection pooling at the edge (globally distributed)
# - Full transaction support (unlike HTTP driver)
# - ~9x faster queries in global scenarios
# - Automatic query caching

# ===========================================
# AUTHENTICATION (Required)
# ===========================================
# Secret key for signing auth tokens (min 32 characters)
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=your-super-secret-key-at-least-32-characters-long

# Base URL of your application
# Development: http://localhost:3001
# Production: https://your-domain.com
BETTER_AUTH_URL=http://localhost:3001

# ===========================================
# ADMIN USER (Optional - for db:seed)
# ===========================================
# Credentials for the initial admin user created by db:seed
# If not set, defaults to admin@livestockai.local / password123
ADMIN_EMAIL=admin@livestockai.local
ADMIN_PASSWORD=password123
ADMIN_NAME=Farm Administrator

# ===========================================
# APPLICATION (Optional)
# ===========================================
# Environment: development | production
NODE_ENV=development

# App name (shown in PWA manifest)
VITE_APP_NAME=LivestockAI

# ===========================================
# OPTIONAL INTEGRATIONS
# ===========================================
# App works 100% without these - they enhance notifications only
# Configure in Settings > Integrations after setup

# -----------------------------
# EMAIL PROVIDER (choose one)
# -----------------------------
# Options: smtp, resend
#
# For LOCAL DEVELOPMENT (recommended):
#   1. Run Mailpit: docker run -d -p 8025:8025 -p 1025:1025 axllent/mailpit
#   2. View emails at: http://localhost:8025
#   3. Use settings below:
EMAIL_PROVIDER=smtp
EMAIL_FROM=LivestockAI <noreply@localhost>
SMTP_HOST=127.0.0.1
SMTP_PORT=1025
SMTP_USER=
SMTP_PASS=

# For PRODUCTION with Resend (https://resend.com):
#   EMAIL_PROVIDER=resend
#   EMAIL_FROM=LivestockAI <noreply@yourdomain.com>
#   RESEND_API_KEY=re_xxxxxxxxxxxx

# For PRODUCTION with SMTP (Gmail, Outlook, etc.):
#   EMAIL_PROVIDER=smtp
#   EMAIL_FROM=LivestockAI <your@email.com>
#   SMTP_HOST=smtp.gmail.com
#   SMTP_PORT=587
#   SMTP_USER=your@gmail.com
#   SMTP_PASS=your-app-password

# -----------------------------
# SMS PROVIDER (choose one)
# -----------------------------
# Options: console, termii, twilio
#
# For LOCAL DEVELOPMENT (logs to terminal):
SMS_PROVIDER=console

# For PRODUCTION with Termii (Nigeria/Africa - https://termii.com):
#   SMS_PROVIDER=termii
#   TERMII_API_KEY=your_api_key
#   TERMII_SENDER_ID=OpenLvstck

# For PRODUCTION with Twilio (Global - https://twilio.com):
#   SMS_PROVIDER=twilio
#   TWILIO_ACCOUNT_SID=your_account_sid
#   TWILIO_AUTH_TOKEN=your_auth_token
#   TWILIO_PHONE_NUMBER=+1234567890

# ===========================================
# STORAGE PROVIDER (Optional)
# ===========================================
# Storage provider for file uploads (PDFs, images)
# Options: 'local' (dev), 'r2' (Cloudflare), 's3' (AWS)
STORAGE_PROVIDER=local

# --- R2 Configuration (Cloudflare) ---
# Public CDN URL for public files (avatars, farm logos, batch photos)
R2_PUBLIC_CDN_URL=https://cdn.livestockai.app
# Private bucket URL for sensitive documents (reports, invoices)
R2_PRIVATE_URL=https://private.livestockai.app

# --- S3 Configuration (AWS) ---
# Public bucket for images
S3_PUBLIC_BUCKET=livestockai-public
# Private bucket for documents
S3_PRIVATE_BUCKET=livestockai-private
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key

# --- Local Storage (Development) ---
# Directory for local file storage
LOCAL_STORAGE_PATH=./storage

# ===========================================
# ERROR TRACKING (Optional - Recommended for Production)
# ===========================================
# BetterStack (Logtail) for error tracking and logging
# Sign up at: https://betterstack.com/logs
# Free tier: 1GB logs/month, 7 days retention
#
# Setup:
# 1. Create account at betterstack.com
# 2. Create a new source
# 3. Copy the source token
# 4. Add here for development, use wrangler secret for production
#
# When configured, all logger.error() and logger.warn() calls
# automatically send to BetterStack in production (not in development)
BETTERSTACK_SOURCE_TOKEN=your_betterstack_source_token_here
